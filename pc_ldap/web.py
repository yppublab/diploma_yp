import random
import subprocess
import time
import urllib.parse
from datetime import datetime

# Random delay between 1 and 60 seconds before executing the request.
time.sleep(random.randint(1, 60))

queries = [
    "Строительствоо многоквартирных домов, лучшие практики",
    "Что подарить на день рождения?",
    "Вакансии на строительном рынке",
    "Легально ли распозновать изображения с персональными данными",
    "Что делать если меня хотят уволить за утечкую ПД",
    "Какой срок дают за трансграничную передачу персональной информации",
    "Как замести следы на прокси, если тебя заметили",
    "расскажи про прозрачный прокси",
    "как выучиться на ИБшника",
    "для чего вообще нужны ИБшники?",
    "как устроиться на работу, если тебя уволили по статье",
    "где в мире справедливость, покажи на карте",
    "какие есть простые инструменты для BIM",
    "какие игры есть под линукс?",
    "как поставить игру на линукс?",
    "можно ли играть на работе?",
    "как подключить к корпоративной сети компьютер, чтобы никто не узнал?",
    "почему айтишники боятся стройки и сдают фундамент в прод",
    "как объяснить ИБ-шнику что это не баг а фича с бетоном",
    "BIM и BitLocker: как зашифровать чертёж и не забыть ключ",
    "инженер и DevOps в лифте: кто быстрее поднимет этажи",
    "сколько гигов нужно чтобы залить бетон",
    "фаервол vs прораб: кто первый закроет порт",
    "как настроить KPI на стройке чтобы не было DDoS от подрядчиков",
    "пентест крана: можно ли взломать башенный кран",
    "как сделать CI/CD для кладки кирпича",
    "почему бэкап чертежей важнее кофе на стройке"
]

query = random.choice(queries)
url = "https://ya.ru/search/?text=" + urllib.parse.quote_plus(query)

# Use curl to perform the search request.
subprocess.run(
    ["curl", "-sS", "-L", "--http1.1", url],
    check=False,
)

print("web.py: запрос отправлен")
